---
title: Indicadores
sidebar:
   order: 0
tableOfContents:
   minHeadingLevel: 2
   maxHeadingLevel: 4
---

import { Aside } from "@astrojs/starlight/components";
import { Steps } from "@astrojs/starlight/components";
import ImgFrame from "@components/ImgFrame.astro";
import Spoiler from "@components/Spoiler.astro";
import Preview from "@components/Preview.astro";
import FreeMark from "@components/FreeMark.astro";
import Params from "@components/Params.astro";
import Param from "@components/Param.astro";

Nesta página, você irá aprender a como instalar um indicador no ScriptBot.

## O que é um indicador?

Os indicadores são ferramentas analíticas essenciais para apoiar a tomada de decisão no mercado financeiro. Eles podem ser aplicados visualmente, diretamente nos gráficos, ou de forma automatizada, integrando seus dados a estratégias operacionais por meio de expressões lógicas no ScriptBot.

Esses indicadores são especialmente úteis na criação de filtros e na definição de pontos de entrada mais precisos. Além disso, possibilitam análises mais avançadas, que não seriam viáveis utilizando apenas expressões lógicas, trazendo maior flexibilidade e robustez às estratégias.

## Indicador \{#indicator\}

Os indicadores são de extrema importância no desenvolvimento de estratégias no ScriptBot. Com eles, é possível analisar o comportamento do mercado, identificar tendências, detectar sinais de entrada e saída, além de otimizar a tomada de decisões automatizadas.

### Parâmetros:

-  **[01] Nome ou Diretório**:
   -  Define o nome ou diretório do indicador:
-  **[02] Parâmetros da Instância**:
   -  Parâmetros da instancia do indicador, separados por vírgula.
   -  **Valor padrão**: 0, SYMBOL, CURRENT
-  **[03] Parâmetros do Indicador**:
   -  Parâmetros do indicador, se houver e separados por vírgula.
-  **[04] Carregamento forçado**:
   -  O indicador é carregado imediatamente, mesmo que o indicador não seja utilizado.

### Tipos de Indicadores

No ScriptBot, existem dois tipos de indicadores:

-  **Indicadores internos**
   -  São indicadores nativos do MetaTrader 5.
   -  Sua instalação é simples, feita apenas pelo nome do indicador.
   -  Você pode consultar a lista completa acessando: [Lista de Indicadores](/references/indicators/)
-  **Indicadores externos**
   -  Desenvolvidos por terceiros, não fazem parte do MetaTrader 5 por padrão.
   -  A instalação requer o caminho completo do arquivo. Por exemplo: **"Market/Ultra ZigZag.ex5"**
   -  Podem ser encontrados no [MQL5 Market](https://www.mql5.com/pt/market/mt5/indicator), na [MQL5 CodeBase](https://www.mql5.com/pt/code/mt5/indicators) ou ainda ser criados pelo próprio usuário.

### Instalando um Indicador

O processo de instalação varia conforme o tipo de indicador, mas em ambos os casos é simples, embora exija atenção.

Abaixo, você pode ver as duas formas de instalar um indicador:

{/* prettier-ignore */}
<Spoiler title="Indicadores Internos">
   <Steps>
      1. A instalação de um indicador interno é extremamente simples.  
         O primeiro passo é escolher um indicador na [Lista de Indicadores](/references/indicators/).  
      2. Com o indicador escolhido, basta adicioná-lo na configuração do robô.
         <ImgFrame>![Internal Alligator](@src/assets/IndAlligator.png)</ImgFrame>
         No exemplo acima, o indicador [Alligator](/references/indicators/#alligator) foi adicionado na configuração do robô.
      3. Pronto! O indicador já está instalado, agora basta continuar com a configuração dos parâmetros.
   </Steps>
</Spoiler>

{/* prettier-ignore */}
<Spoiler title="Indicadores Externos">
   <Steps>
      1. Baixe o Indicador  
         É possível baixar de qualquer fonte. Algumas das mais populares são:  
         <ul style="margin: 0;">  
            <li>Baixado do [MQL5 Market](https://www.mql5.com/pt/market/mt5/indicator)</li>
            <li>Encontrado na [MQL5 CodeBase](https://www.mql5.com/pt/code/mt5/indicators)</li>
            <li>Criado por você</li>
         </ul>
      2. Identifique o caminho completo onde o indicador está salvo.
         <ImgFrame center>![External Alligator](@src/assets/IndAlligatorExternalExplorer.png)</ImgFrame>
         **Exemplo:** `Examples/Alligator`  
         **PS**: Não é necessário incluir o diretório `Indicadores` antes de `Examples`, isso é intencional. O ScriptBot reconhece que todos os indicadores ficam dentro dessa pasta padrão.  
      3. Adicione o indicador na configuração do robô.  
         <ImgFrame center>![External Alligator](@src/assets/IndAlligatorExternal.png)</ImgFrame>  
         **Resultado:** `Examples/Alligator.ex5`  
         **Importante:**  
         <ul style="margin: 0;">  
            <li>O caminho deve estar idêntico ao do arquivo, respeitando letras maiúsculas/minúsculas, espaços e pontuação.</li>
            <li>No final do caminho, adicione a extensão `.ex5`, apenas para evitar problemas.</li>
         </ul>
      4. Pronto! O indicador já está instalado, agora basta continuar com a configuração dos parâmetros.
   </Steps>
</Spoiler>

### Parâmetros da Instância

Os parâmetros da instância do indicador são obrigatórios e de extrema importância para o seu funcionamento adequado.

Eles servem como diretrizes que definem o comportamento do indicador, como: em qual janela ele será inserido, qual ativo será analisado e qual o período (tempo gráfico) será utilizado para obter os dados.

Esses parâmetros permitem que o indicador seja flexível, adaptando-se a diferentes contextos de análise. Por exemplo, é possível aplicar o indicador a diferentes ativos ou intervalos de tempo, sem a necessidade de alterar o esses dados diretamente no gráfico em operação, apenas modificando os parâmetros da instância.

{/* prettier-ignore */}
<Preview title="Entendendo os Parâmetros:"> 
   <FreeMark>
      0, SYMBOL, CURRENT
      |    |        |-\> Período de Análise: [Lista de Períodos](/references/constants/#periods)
      |    |----------\> Tipo de Ativo: [Lista de Ativos](/references/constants/#symbols)
      |---------------\> Janela de Análise: [Lista de Janelas](/references/constants/#windows)
   </FreeMark>
</Preview>

### Parâmetros do Indicador

Os parâmetros dos indicadores não são obrigatórios. Caso nenhum parâmetro seja informado, o indicador será iniciado com os valores padrão.

Se optar por configurar os parâmetros manualmente, é fundamental respeitar a ordem correta. A sequência dos parâmetros deve seguir exatamente a estrutura esperada pelo indicador, caso contrário, ele poderá funcionar de forma incorreta.

Para identificar os parâmetros corretamente, basta adicionar o indicador ao gráfico. O layout da janela de parâmetros pode variar, e o indicador pode apresentar dois formatos diferentes de entrada de dados, dependendo da sua implementação.

**Primeiro formato:**

<ImgFrame>![Type 01](@src/assets/IndParamsType1.png)</ImgFrame>

**Segundo formato:**

<ImgFrame>![Type 01](@src/assets/IndParamsType2.png)</ImgFrame>

#### Ordens dos Parâmetros

Agora que sabemos a ordem correta em que os argumentos devem ser adicionados, é importante observar que o indicador Alligator possui dois parâmetros que utilizam enumerações: um para o método de média móvel (**Moving average method**) e outro para o tipo de preço a ser aplicado (**Applied price**).

Os parâmetros devem ser adicionados na ordem correta, conforme mostra a imagem abaixo:

<ImgFrame center>![External Alligator](@src/assets/IndAlligatorExternal.png)</ImgFrame>

{/* prettier-ignore */}
<Preview title="Entendendo os Parâmetros:"> 
   <FreeMark>
      13, 8, 8, 5, 5, 3, SMOOTHED, MEDIAN
      |   |  |  |  |  |      |        |-> Applied price: [Lista de Preços](/references/enumerators/#prices)
      |   |  |  |  |  |      |----------> Moving average method: [Lista de Metodos](/references/enumerators/#methods)
      |   |  |  |  |  |-----------------> Lips shift
      |   |  |  |  |--------------------> Lips period
      |   |  |  |-----------------------> Teeth shift
      |   |  |--------------------------> Teeth period
      |   |-----------------------------> Jaws shift
      |---------------------------------> Jaws period
   </FreeMark>
</Preview>

#### Parâmetros de Texto

Muitos indicadores podem incluir parâmetros do tipo texto, utilizados para armazenar expressões, nomes, descrições ou outras informações.

Para facilitar o uso desses parâmetros, foi introduzido o operador `#`. Esse operador é exclusivo para parâmetros de indicadores e atua como um delimitador de sequência, garantindo que todo o conteúdo entre os símbolos `#` seja tratado como texto literal, sem sofrer qualquer tipo de interpretação ou modificação.

Veja, por exemplo, a seguinte configuração fictícia:

{/* prettier-ignore */}
<Preview title="Entendendo os Parâmetros:"> 
   <Params>
      <Param input="[01] Nome ou Diretório:">Examples/ExpIndicator.ex5</Param>
      <Param input="[02] Parâmetros da Instância:">0, SYMBOL, CURRENT</Param>
      <Param input="[03] Parâmetros do Indicador:">22, 0, <span style={{ color: "#3dbb1eff" }}>#CLOE[0] > OPEN[0, M5]#</span>, SMOOTHED, MEDIAN</Param>
      <Param input="[04] Carregamento forçado:">false</Param>
   </Params>
</Preview>

Observe que o parâmetro `#CLOE[0] > OPEN[0, M5]#` utiliza o operador `#`. Nesse caso, todo o conteúdo entre os símbolos `#` é interpretado como texto literal, sem qualquer tipo de modificação ou interpretação adicional.

### Set por Arquivo

O carregamento por arquivo .set pode não ser um processo simples, mas é fundamental para configurar corretamente os parâmetros de alguns indicadores. Embora para a maioria dos indicadores essa etapa não seja necessária, há casos em que eles possuem muitos parâmetros ou configurações complexas, tornando inviável a instalação manual tradicional. Nesses casos, utilizar arquivos .set é a maneira mais eficiente e prática de garantir a configuração adequada.

**Antes de começar, é importante entender algumas limitações:**

-  Alguns indicadores do MetaTrader 5 não permitem que suas configurações sejam salvas.
-  No MT5, existe um limite máximo de parâmetros que um robô pode carregar. Se o arquivo `.set` contiver mais de 62 parâmetros, o robô carregará apenas os primeiros 62. Caso esse limite seja ultrapassado, uma mensagem de erro será exibida. O indicador ainda será carregado, mas os parâmetros excedentes serão ignorados e pode ocorrer um comportamento diferente do esperado.

#### Salvando o Arquivo set

{/* prettier-ignore */}
<Steps>
   1. Primeiro, escolhemos um indicador, configuramos suas opções e salvamos o arquivo `.set` em um local de nossa preferência no computador.  
      Salve o arquivo com um nome descritivo, por exemplo:  
      ```text
      my-set-alligator.set
      ```
   2. Antes de mover o arquivo `.set` para a pasta correta, execute pelo menos uma vez o robô em um ambiente de teste (como o testador de estratégia do MetaTrader).  
      Isso é necessário para que o sistema crie automaticamente as pastas internas do robô, incluindo a pasta onde os sets serão armazenados.
   3. Agora que o arquivo está salvo e as pastas do robô foram criadas, vamos mover o arquivo `.set` para o local correto:  
      Existe duas formas diferentes de fazer isso:  
      <Spoiler title="Localizando a pasta padrão:"> 
         ```java  
            C:\Users\{username}\AppData\Roaming\MetaQuotes\Terminal\Common\Files\ScriptBot\Sets
         ```
         **Atenção**: Substitua `{username}` pelo nome do seu usuário do Windows.  
      </Spoiler>
      <Spoiler title="Acessando usando o executador: Windows + R"> 
         ```java  
            %appdata%\MetaQuotes\Terminal\Common\Files\ScriptBot\Sets
         ```
         <ImgFrame center>![Windows + R](@src/assets/WinExe.png)</ImgFrame>
      </Spoiler>
      Independendo da forma escolhida, copie o arquivo `.set` para a pasta de sets que foi localizada.
   4. Com o arquivo `.set` no lugar certo, agora é hora de carregá-lo dentro do robô.  
      Em vez de preencher os parâmetros manualmente, digite o nome exato do arquivo, incluindo a extensão `.set` nos parâmetros do indicador.  
      Isso fará com que o robô carregue automaticamente todos os parâmetros configurados no arquivo.  
      Exemplo visual:  
      <ImgFrame>![Alligator Set](@src/assets/IndAlligatorSet.png)</ImgFrame>
   5. Pronto! O indicador já está com os parâmetros devidamente configurados.
</Steps>

#### Usando Fragmentos

Para utilizar os [Fragmentos](/architecture/fragments), é necessário abrir o arquivo .set. Nele, você pode alterar os valores e substituir pelos nomes dos fragmentos.  
Os arquivos .set salvos pelo Backtest podem apresentar parâmetros com várias barras (`||`), o que pode parecer confuso.  
No entanto, tudo que estiver depois das barras são totalmente descartáveis e podem ser removidas sem causar qualquer erro de execução.

O exemplo abaixo mostra como utilizar fragmentos em um arquivo .set:

<ImgFrame>![Alligator Fragment](@src/assets/IndSetSaveBt.png)</ImgFrame>
